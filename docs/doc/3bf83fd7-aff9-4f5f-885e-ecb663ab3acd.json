{
    "summary": "The code is an implementation file for the MainPage class of SMG_NothingIsAll iOS app, initializing views and data, adding gesture recognizers, setting titles, registering event listeners, pushing view controllers, calculating mapping coordinates, and handling a training step.",
    "details": [
        {
            "comment": "This code is the implementation file for the MainPage class in the SMG_NothingIsAll iOS app. The class conforms to the UIGestureRecognizerDelegate protocol, and initializes the view and data. It adds a tap gesture recognizer to the miniGrowView, sets the title of the page to \"\u548c\", and registers an event listener for the bird grow button click event with the kGrowPageSEL selector.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/MainPage/MainPage.m\":0-41",
            "content": "//\n//  MainPage.m\n//  SMG_NothingIsAll\n//\n//  Created by jiaxiaogang on 2018/10/24.\n//  Copyright \u00a9 2018\u5e74 XiaoGang. All rights reserved.\n//\n#import \"MainPage.h\"\n#import \"TestHungryPage.h\"\n#import \"BirdLivePage.h\"\n#import \"BirdGrowPage.h\"\n@interface MainPage()<UIGestureRecognizerDelegate>\n@property (weak, nonatomic) IBOutlet UIView *miniGrowView;\n@end\n@implementation MainPage\n-(void) initView{\n    //1. self\n    [super initView];\n    self.title = @\"\u548c\";\n    //2. \u89e6\u6478\u6307\u5b9a\u6254\u7684\u4f4d\u7f6e\n    UITapGestureRecognizer *tap = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(miniGrowTap:)];\n    tap.numberOfTapsRequired = 1;\n    tap.numberOfTouchesRequired  = 1;\n    tap.delegate = self;\n    [self.miniGrowView addGestureRecognizer:tap];\n}\n-(void) initData{\n    [super initData];\n    [theRT regist:kGrowPageSEL target:self selector:@selector(birdGrowBtnOnClick:)];\n}\n//MARK:===============================================================\n//MARK:                     < onclick >\n//MARK:==============================================================="
        },
        {
            "comment": "This code snippet defines three methods, `testHungryOnClick`, `birdLiveOnClick`, and `birdGrowBtnOnClick`, which push different view controllers onto the navigation stack. It also includes a `miniGestureTap` method that calculates coordinates, rates, and heights/widths for mapping.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/MainPage/MainPage.m\":42-69",
            "content": "- (IBAction)testHungryOnClick:(id)sender {\n    TestHungryPage *page = [[TestHungryPage alloc] init];\n    [self.navigationController pushViewController:page animated:true];\n}\n- (IBAction)birdLiveOnClick:(id)sender {\n    BirdLivePage *page = [[BirdLivePage alloc] init];\n    [self.navigationController pushViewController:page animated:true];\n}\n- (IBAction)birdGrowBtnOnClick:(id)sender {\n    [self pushBrowPage:CGPointZero];\n}\n//MARK:===============================================================\n//MARK:                     < block >\n//MARK:===============================================================\n- (void)miniGrowTap:(UITapGestureRecognizer *)tap{\n    //1. \u8ba1\u7b97\u8ddd\u79bb\u548c\u89d2\u5ea6\n    UIView *tapView = tap.view;\n    CGPoint point = [tap locationInView:tapView];                 //\u70b9\u51fb\u5750\u6807\n    CGFloat xRate = point.x / tapView.width;\n    CGFloat yRate = point.y / tapView.height;\n    //2. \u5b9e\u9645\u8def\u7684\u4e0a\u4e2d\u4e0b\u9ad8\u5bbd;\n    CGFloat topH = (ScreenHeight - 128 - 100) / 2.0f, btmH = topH, roadH = 100, roadW = ScreenWidth - 32;\n    //3. \u8ba1\u7b97\u6620\u5c04\u5750\u6807 (mini\u56fe\u7684\u4e2d\u95f40.4\u662f\u8def\u4e2d,\u8def\u4e0a\u4e0b\u54040.3);"
        },
        {
            "comment": "1. Calculates target coordinates based on yRate value\n2. If yRate < 0.3f, calculates top position (road up)\n3. Else if yRate < 0.7f, calculates middle position (road in)\n4. Else, calculates bottom position (road down)\n5. Uses calculated coordinates to push BirdGrowPage onto navigation stack",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/MainPage/MainPage.m\":70-97",
            "content": "    CGFloat targetX = 16 + xRate * roadW;\n    if (yRate < 0.3f) {\n        //a. \u8def\u4e0a\u5750\u6807\u8ba1\u7b97\n        CGFloat topRate = yRate / 0.3f;\n        CGFloat targetY = 64 + topRate * topH;\n        [self pushBrowPage:CGPointMake(targetX, targetY)];\n    }else if (yRate < 0.7f) {\n        //b. \u8def\u4e2d\u5750\u6807\u8ba1\u7b97\n        CGFloat roadRate = (yRate - 0.3f) / 0.4f;\n        CGFloat targetY = 64 + topH + roadRate * roadH;\n        [self pushBrowPage:CGPointMake(targetX, targetY)];\n    }else {\n        //c. \u8def\u4e0b\u5750\u6807\u8ba1\u7b97\n        CGFloat btmRate = (yRate - 0.7f) / 0.3f;\n        CGFloat targetY = 64 + topH + roadH + btmRate * btmH;\n        [self pushBrowPage:CGPointMake(targetX, targetY)];\n    }\n}\n//MARK:===============================================================\n//MARK:                     < privateMethod >\n//MARK:===============================================================\n-(void) pushBrowPage:(CGPoint)birdPos {\n    //1. \u5230\u6210\u957f\u9875;\n    BirdGrowPage *page = [[BirdGrowPage alloc] init];\n    [self.navigationController pushViewController:page animated:true];\n    //2. \u6307\u5b9a\u5c0f\u9e1f\u51fa\u751f\u5730\u70b9;"
        },
        {
            "comment": "This code updates the bird's birth position, marks a training step, and invokes the \"kGrowPageSEL\" method on the main queue after a 0.5 second delay.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/MainPage/MainPage.m\":98-106",
            "content": "    page.birdBirthPos = birdPos;\n    //3. \u6807\u8bb0\u8bad\u7ec3\u5668\u6b65\u9aa4;\n    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.5f * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{\n        [theRT invoked:kGrowPageSEL];\n    });\n}\n@end"
        }
    ]
}