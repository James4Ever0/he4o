{
    "summary": "WoodView class manages view and display properties, includes reset and animation methods, utilizes CADisplayLink for frame-based animation with collision detection, and handles progress, finish, and reset while logging stick animation completion.",
    "details": [
        {
            "comment": "This code is for a class called WoodView. The class initializes the view and display properties. It also contains a method that resets and animates the view.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/BirdLivePage/View/WoodView.m\":0-45",
            "content": "//\n//  WoodView.m\n//  SMG_NothingIsAll\n//\n//  Created by jia on 2021/1/16.\n//  Copyright \u00a9 2021\u5e74 XiaoGang. All rights reserved.\n//\n#import \"WoodView.h\"\n#import \"UIView+Extension.h\"\n@interface WoodView ()\n@property (strong, nonatomic) CADisplayLink *displayLink;\n@property (assign, nonatomic) float aniBeginX;\n@property (assign, nonatomic) float aniDeltaX;\n@property (assign, nonatomic) double aniBeginTime;\n@property (assign, nonatomic) double aniDeltaTime;\n@property (assign, nonatomic) Act0 aniInvoked;\n@end\n@implementation WoodView\n-(id) init {\n    self = [super init];\n    if(self != nil){\n        [self initView];\n        [self initDisplay];\n    }\n    return self;\n}\n-(void) initView{\n    //self\n    [self setFrame:CGRectMake(0, (ScreenHeight - 100) * 0.5f, 5, 100)];\n    [self setBackgroundColor:UIColorWithRGBHex(0x825528)];\n}\n-(void) initDisplay{\n    [self reset:true x:0];\n}\n//MARK:===============================================================\n//MARK:                     < method >\n//MARK:==============================================================="
        },
        {
            "comment": "Resets the view to initial position, removes ongoing animation, and stores parameters for throwV5 method. Uses CADisplayLink for frame-based animation with collision detection after animation completes.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/BirdLivePage/View/WoodView.m\":47-88",
            "content": "//\u590d\u4f4d\n-(void) reset:(BOOL)hidden x:(CGFloat)x{\n    self.x = x;\n    self.alpha = hidden ? 0 : 1;\n}\n//\u590d\u4f4d\n-(void) reset4StartAnimation:(CGFloat)throwX {\n    //1. \u6254\u51fa\u524d\u590d\u4f4d (\u5e76\u79fb\u9664\u53ef\u80fd\u8fd8\u5728\u8fdb\u884c\u4e2d\u7684\u52a8\u753b);\n    [self reset:false x:throwX];\n    [self removeDisplayLink];\n}\n//\u590d\u4f4d\n-(void) reset4EndAnimation {\n    [self reset:true x:0];\n}\n/**\n *  MARK:--------------------\u6254\u51fa--------------------\n *  @version\n *      2021.09.08: \u652f\u6301\u4e24\u6bb5\u52a8\u753b,\u5e76\u5728\u4e2d\u6bb5\u548c\u5c3e\u6bb5\u5206\u522b\u8fdb\u884c\u78b0\u649e\u68c0\u6d4b;\n *      2022.04.27: \u8c03\u6162\u6728\u68d2\u52a8\u753b (\u53c2\u800325222);\n *      2022.06.04: \u652f\u6301\u968f\u673a\u6254\u51fa\u70b9 (\u53c2\u800326196-\u65b9\u68482);\n *      2023.05.22: \u8fed\u4ee3v4:\u52a8\u753b\u7ed3\u675f\u65f6,\u8c03\u7528\u4e0b\u78b0\u649e\u68c0\u6d4b\u5565\u7684 (\u53c2\u800329098-\u65b9\u68483);\n *      2023.07.26: \u8fed\u4ee3v5:\u4f7f\u7528displayLink\u5e27\u52a8\u753b,\u4f7f\u78b0\u649e\u68c0\u67e5\u66f4\u52a0\u53ca\u65f6 (\u53c2\u800330087-\u5206\u67902-todo1);\n */\n-(void) throwV5:(CGFloat)throwX time:(CGFloat)time distance:(CGFloat)distance invoked:(void(^)())invoked {\n    //1. \u6254\u51fa\u524d\u590d\u4f4d (\u5e76\u79fb\u9664\u53ef\u80fd\u8fd8\u5728\u8fdb\u884c\u4e2d\u7684\u52a8\u753b);\n    [self reset4StartAnimation:throwX];\n    //2. \u4fdd\u7559\u52a8\u753b\u53c2\u6570;\n    self.aniBeginX = self.x;\n    self.aniDeltaX = distance;\n    self.aniBeginTime = CACurrentMediaTime();\n    self.aniDeltaTime = time;\n    self.aniInvoked = invoked;\n    //3. \u6267\u884c\u52a8\u753b;\n    self.displayLink = [CADisplayLink displayLinkWithTarget:self selector:@selector(displayLinkFrame)];"
        },
        {
            "comment": "This code sets up and manages a display link for animation, performing collision detection on setting the frame, and handling the animation's progress, finish, and reset. It also logs the completion of throwing the wooden stick in the animation.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/SMG_NothingIsAll/Demo/BirdLivePage/View/WoodView.m\":89-125",
            "content": "    [self.displayLink addToRunLoop:[NSRunLoop currentRunLoop] forMode:NSRunLoopCommonModes];\n    self.displayLink.paused = NO;\n}\n- (void)setFrame:(CGRect)frame {\n    [super setFrame:frame];\n    //NSLog(@\"\u78b0\u649e\u68c0\u6d4b\");\n    [self.delegate woodView_SetFramed];\n}\n-(void) displayLinkFrame {\n    //1. \u52a8\u753b\u8fdb\u5ea6\u8ba1\u7b97\n    double now = CACurrentMediaTime();\n    double radio = (now - self.aniBeginTime) / self.aniDeltaTime;;\n    if (radio < 1.0) {\n        //2. \u52a8\u753b\u4e2d...\n        self.x = self.aniBeginX + self.aniDeltaX * radio;\n    } else {\n        //3. \u52a8\u753b\u7ed3\u675f\u65f6,\u56de\u8c03,\u6267\u884cblock;\n        self.x = self.aniBeginX + self.aniDeltaX;\n        [self.delegate woodView_WoodAnimationFinish];\n        [self reset4EndAnimation];\n        self.aniInvoked();\n        NSLog(@\"\u6254\u6728\u68d2 \u52a8\u753b\u7ed3\u675f\");\n        //4. \u505c\u6b62displayLink;\n        [self removeDisplayLink];\n    }\n}\n-(void) removeDisplayLink {\n    self.displayLink.paused = YES;\n    [self.displayLink invalidate];\n    self.displayLink = nil;\n}\n@end"
        }
    ]
}