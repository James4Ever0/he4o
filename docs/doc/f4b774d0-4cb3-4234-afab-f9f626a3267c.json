{
    "summary": "This code initializes XGWedis singleton instance, sets properties, and provides methods for handling Redis commands, managing main thread, and saving data to a dictionary.",
    "details": [
        {
            "comment": "This code is initializing the XGWedis singleton instance and setting up its properties. It creates an AsyncMutableDictionary for core dictionary, sets a timer for notifications, and defines a saveBlock to handle persistence operations. The class also implements methods for handling Redis commands and managing the main thread.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/ThirdParty/XGWedis/XGWedis.m\":0-46",
            "content": "//\n//  XGWedis.m\n//  SMG_NothingIsAll\n//\n//  Created by jia on 2019/5/7.\n//  Copyright \u00a9 2019\u5e74 XiaoGang. All rights reserved.\n//\n#import \"XGWedis.h\"\n#import \"XGRedisUtil.h\"\n#import \"XGRedisDictionary.h\"\n#import \"AIKVPointer.h\"\n@interface XGWedis ()\n@property (strong, nonatomic) AsyncMutableDictionary *dic; //\u5f02\u6b65\u6301\u4e45\u5316\u6838\u5fc3\u5b57\u5178\n@property (strong,nonatomic) NSTimer *timer;            //\u8ba1\u65f6\u5668\n@property (nonatomic, copy) XGWedisSaveBlock saveBlock; //\u6301\u4e45\u5316block\n@end\n@implementation XGWedis\nstatic XGWedis *_instance;\n+(XGWedis*) sharedInstance{\n    if (_instance == nil) {\n        _instance = [[XGWedis alloc] init];\n    }\n    return _instance;\n}\n-(id) init{\n    self = [super init];\n    if (self) {\n        [self initData];\n    }\n    return self;\n}\n-(void) initData{\n    self.dic = [[AsyncMutableDictionary alloc] init];\n    dispatch_async(dispatch_get_main_queue(), ^{\n        self.timer = [NSTimer scheduledTimerWithTimeInterval:cWedis2DBInterval target:self selector:@selector(notificationTimer) userInfo:nil repeats:YES];\n    });\n}\n//MARK:==============================================================="
        },
        {
            "comment": "This code defines a class `XGWedis` that provides methods for setting and retrieving objects with keys, clearing the stored data, counting the number of items, and saving the data to a dictionary. The class also has a method for triggering the save action on a timer.",
            "location": "\"/media/root/Prima/works/he4o/docs/src/ThirdParty/XGWedis/XGWedis.m\":47-90",
            "content": "//MARK:                     < publicMethod >\n//MARK:===============================================================\n-(void) setObject:(NSObject*)obj forKey:(NSString*)key {\n    if (obj && STRISOK(key)) {\n        [self.dic setObject:obj forKey:key];\n    }\n}\n-(id) objectForKey:(NSString*)key{\n    return [self.dic objectForKey:key];\n}\n-(void)setSaveBlock:(XGWedisSaveBlock)saveBlock{\n    _saveBlock = saveBlock;\n}\n-(void) clear{\n    [self.dic removeAllObjects];\n}\n-(NSInteger) count{\n    return self.dic.count;\n}\n/**\n *  MARK:--------------------\u6301\u4e45\u5316--------------------\n *  @version\n *      2023.07.20: \u5185\u5b58\u63d0\u524d\u56de\u6536\u95ee\u9898 (1.\u52a0_block 2.\u4e0d\u91c7\u7528\u5f02\u6b65\u5b58) (\u56e0\u4e3aTC\u7ebf\u7a0b\u672c\u6765\u662f\u5e76\u884c\u7684,\u6240\u4ee5\u9009\u75282,\u5c06\u6b64\u5904\u5f02\u6b65\u5e9f\u5f03\u6389);\n */\n-(void) save {\n    if (self.saveBlock) {\n        self.saveBlock(self.dic);\n    }\n    [self.dic removeAllObjects];\n}\n//MARK:===============================================================\n//MARK:                     < privateMethod >\n//MARK:===============================================================\n- (void)notificationTimer{\n    [self save];\n}\n@end"
        }
    ]
}